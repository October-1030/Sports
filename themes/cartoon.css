/* ==== 卡通主题 ==== */
:root{
  --bg1:#fff8f0;            /* 背景渐变色1 */
  --bg2:#ffede0;            /* 背景渐变色2 */
  --card:#ffffff;           /* 卡片底色 */
  --text:#1e293b;           /* 主要文字 */
  --muted:#64748b;          /* 次要文字 */
  --brand:#ff7a45;          /* 主色 - 橘色 */
  --brand-weak:#fff2e8;     /* 主色弱态 */
  --border:#ffbb96;         /* 边框 */
  --danger:#ef4444;         /* 错误 */
  --ok:#10b981;             /* 成功 */
  --shadow:0 10px 15px rgba(251,191,36,0.1), 0 4px 6px rgba(251,191,36,0.05);
  --radius:20px;            /* 卡片圆角 */
  --radius-sm:16px;         /* 控件圆角 */
}

*{box-sizing:border-box}
html,body{
  margin:0;padding:0;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:var(--text);
  font:16px/1.55 "Comic Sans MS", "Comic Neue", -apple-system, "Microsoft YaHei", sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* ==== 顶部区域 ==== */
.app-header{
  position:sticky;top:0;z-index:10;
  background:rgba(255,255,255,0.8);backdrop-filter:saturate(180%) blur(8px);
  padding:14px 16px 8px;border-bottom:2px dashed var(--border);
}
.app-header h1{
  font-size:28px;font-weight:700;margin:0 0 10px 0;
  color:var(--brand);
  text-shadow:1px 1px 0 #fff, 2px 2px 0 rgba(255,122,69,0.3);
}
.progress{
  height:10px;background:var(--brand-weak);border-radius:999px;overflow:hidden;
  box-shadow:inset 0 1px 3px rgba(0,0,0,.04);
  border:2px solid var(--border);
}
#progress-bar{
  height:100%;width:0;
  background:linear-gradient(90deg,#ff7a45,#fa541c);
  transition:width .25s ease;
}

.step-indicator{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
.step-indicator #step-label{font-size:13px;color:var(--muted);font-weight:bold;}
.step-indicator #autosave-label{font-size:13px}

/* 主题切换器 */
.theme-switcher {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: flex-end;
}
#theme-select {
  padding: 4px 8px;
  border-radius: 10px;
  border: 2px solid var(--border);
  background: white;
  font-size: 12px;
  margin-left: 6px;
  font-family: inherit;
}

/* ==== 主体区与卡片 ==== */
#form-root{padding:16px 14px 88px}
h2{
  font-size:24px;margin:10px 0 16px;font-weight:700;
  color:var(--brand);
  text-shadow:1px 1px 0 #fff;
}
h3{
  font-size:20px;margin:4px 0 12px;color:var(--brand);font-weight:600
}

.card{
  background:var(--card);
  border:2px solid var(--border);
  border-radius:var(--radius);
  padding:18px 16px;
  margin-bottom:18px;
  box-shadow:var(--shadow);
}

/* 分组 fieldset 更精致 */
fieldset{
  border:2px dashed var(--border);
  padding:14px;border-radius:var(--radius-sm);margin:10px 0 12px;
  background:rgba(255,242,232,0.2);
}
legend{
  padding:0 10px;color:var(--brand);font-weight:600;font-size:14px
}

/* ==== 栅格与布局 ==== */
.grid{display:grid;grid-template-columns:1fr;gap:14px}
.ancestors{grid-template-columns:1fr;gap:14px}
@media (min-width:720px){
  .grid{grid-template-columns:repeat(2,1fr)}
  .ancestors{grid-template-columns:repeat(2,1fr)}
}

/* ==== 表单控件 ==== */
label{display:flex;flex-direction:column;gap:6px;font-size:14px;font-weight:500;}
input,select,textarea{
  appearance:none;
  border:2px solid var(--border);
  border-radius:var(--radius-sm);
  padding:12px 14px;
  font-size:16px;background:#fff;outline:none;
  font-family:inherit;
  transition:all .2s ease;
}
input:focus,select:focus,textarea:focus{
  border-color:var(--brand);
  box-shadow:0 0 0 4px rgba(255,122,69,0.25);
}
input:hover,select:hover,textarea:hover{transform:translateY(-2px)}
textarea{resize:vertical;min-height:78px}

/* 单选/复选统一风格 */
input[type="radio"], input[type="checkbox"]{
  width:20px;height:20px;margin-right:8px;accent-color:var(--brand);
}
.inline label{display:inline-flex;flex-direction:row;align-items:center;margin-right:16px}
.checkbox-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
.checkbox-inline{display:flex;flex-wrap:wrap;gap:12px}
.skills-grid{display:grid;grid-template-columns:1fr;gap:12px}
.with-input{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.stack{display:flex;flex-direction:column}

/* ==== 按钮与底栏 ==== */
button{
  border:2px solid var(--border);
  background:#fff;color:#1e293b;
  border-radius:18px;padding:12px 18px;font-size:16px;
  font-family:inherit;font-weight:600;
  transition:all .2s ease;
  box-shadow:0 4px 0 var(--border);
}
button:hover{
  transform:translateY(-3px);
  box-shadow:0 7px 0 var(--border);
}
button:active{
  transform:translateY(0);
  box-shadow:0 2px 0 var(--border);
}
button.primary{
  background:linear-gradient(135deg,#ff7a45,#fa541c);
  color:#fff;border-color:#ff7a45;
  box-shadow:0 4px 0 #d4380d;
  text-shadow:0 1px 0 rgba(0,0,0,0.2);
}
button.primary:hover{box-shadow:0 7px 0 #d4380d;}
button.primary:active{box-shadow:0 2px 0 #d4380d;}
button.secondary{background:#fff;color:#d4380d;border-color:#ffbb96}
button.ghost{background:#fff}

.bottom-bar{
  position:fixed;left:0;right:0;bottom:0;
  background:rgba(255,255,255,.9);backdrop-filter:saturate(160%) blur(10px);
  border-top:2px dashed var(--border);
  display:flex;gap:12px;justify-content:space-between;padding:14px 16px;z-index:20
}
.bottom-bar button{flex:1}

/* ==== 页脚与提示 ==== */
.app-footer{
  position:fixed;left:0;right:0;bottom:70px;
  background:transparent;color:var(--muted);
  font-size:12px;display:flex;justify-content:space-between;padding:4px 14px;pointer-events:none
}
.privacy{font-size:13px;color:var(--muted);margin-top:12px}
.actions-stack{display:flex;flex-direction:column;gap:12px;margin-top:14px}
.result{margin-top:10px;font-size:14px}

/* 验证提示 */
.invalid{border-color:var(--danger) !important;box-shadow:0 0 0 4px rgba(239,68,68,.15)}
.hint{font-size:13px;color:var(--danger);margin-top:-4px;margin-bottom:8px}

/* 预览弹窗更好看 */
#preview-dialog::backdrop{background:rgba(0,0,0,.45)}
#preview-dialog article{
  max-width:720px;margin:auto;padding:0;border:none;border-radius:20px;
  background:#fff;box-shadow:0 20px 60px rgba(16,24,40,.35);overflow:hidden
}
#preview-dialog header,#preview-dialog footer{
  display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#fffbeb;border-bottom:2px solid var(--border)
}
#preview-dialog footer{border-top:2px solid var(--border);border-bottom:none;background:#fff}
#preview-json{margin:0;padding:16px;background:#1e293b;color:#fef3c7;max-height:60vh;overflow:auto;font-size:14px;border-top:2px solid #1e293b}

/* 打印优化 */
@media print{
  .app-header,.bottom-bar,#preview-dialog,.app-footer{display:none !important}
  body{background:#fff}
  .card{break-inside:avoid;box-shadow:none;border-color:#fde68a}
}

/* 小动画 - 移除晃动效果，改为柔和的阴影变化 */
.card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
  transform: translateY(-3px);
  box-shadow: 0 15px 25px rgba(255,122,69,0.15), 0 5px 10px rgba(255,122,69,0.08);
}
