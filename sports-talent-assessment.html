<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ä½“è‚²äººæ‰è¯„ä¼°ç³»ç»Ÿ - å“åº”å¼ä¼˜åŒ–ç‰ˆ</title>
    <meta name="description" content="ä¸“ä¸ºåäººè®¾è®¡çš„å¾®ä¿¡å°ç¨‹åºé£æ ¼ä½“è‚²äººæ‰è¯„ä¼°ç³»ç»Ÿï¼Œå®Œå…¨å“åº”å¼è®¾è®¡">
    
    <!-- å¤–éƒ¨èµ„æº -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* ===== åŸºç¡€æ ·å¼ ===== */
        :root {
            --primary: #ff7a45;
            --primary-light: #ff9968;
            --primary-dark: #e55a2b;
            --secondary: #f0f8ff;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --bg: #f8fafc;
            --card: #ffffff;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 12px;
            --radius-lg: 16px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--bg) 100%);
            color: var(--text);
            line-height: 1.6;
            font-size: 16px;
            min-height: 100vh;
        }

        /* ===== å“åº”å¼å®¹å™¨ç³»ç»Ÿ ===== */
        .app-container {
            max-width: 414px;
            margin: 0 auto;
            background: var(--bg);
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 480px) {
            .app-container {
                max-width: 100%;
                box-shadow: none;
            }
        }

        /* å¹³æ¿å’Œå°æ¡Œé¢ */
        @media (min-width: 768px) {
            body {
                background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 50%, #f8fafc 100%);
            }
            
            .app-container {
                max-width: 600px;
                margin: 20px auto;
                border-radius: var(--radius-lg);
                box-shadow: var(--shadow-lg);
            }
        }

        /* æ¡Œé¢ */
        @media (min-width: 1024px) {
            .app-container {
                max-width: 800px;
                margin: 40px auto;
            }
        }

        /* å¤§æ¡Œé¢ */
        @media (min-width: 1200px) {
            .app-container {
                max-width: 900px;
            }
        }

        /* ===== å¤´éƒ¨å¯¼èˆª ===== */
        .app-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 20px 16px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
        }

        .app-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .app-subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        /* ===== æ­¥éª¤æŒ‡ç¤ºå™¨ ===== */
        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            margin: 16px 0;
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: white;
            transform: scale(1.5);
        }

        .step-dot.completed {
            background: var(--success);
            transform: scale(1.2);
        }

        /* ===== å¡ç‰‡æ ·å¼ ===== */
        .card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            margin: 16px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text);
        }

        /* ===== è¡¨å•æ ·å¼ ===== */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text);
        }

        .form-label.required::after {
            content: '*';
            color: var(--error);
            margin-left: 4px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--card);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 122, 69, 0.1);
        }

        .form-textarea {
            min-height: 80px;
            resize: vertical;
        }

        /* ===== å•é€‰æ¡†å’Œå¤šé€‰æ¡†æ ·å¼ ===== */
        .radio-group, .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-item, .checkbox-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--card);
        }

        .radio-item:hover, .checkbox-item:hover {
            border-color: var(--primary);
            background: rgba(255, 122, 69, 0.05);
        }

        .radio-item.selected, .checkbox-item.selected {
            border-color: var(--primary);
            background: rgba(255, 122, 69, 0.1);
        }

        .radio-input, .checkbox-input {
            width: 20px;
            height: 20px;
            margin: 0;
        }

        /* ===== æŒ‰é’®æ ·å¼ ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            min-height: 48px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--card);
            color: var(--text);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-block {
            width: 100%;
            margin: 16px 0;
        }

        /* ===== åº•éƒ¨å¯¼èˆª ===== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 414px;
            background: var(--card);
            padding: 12px 16px;
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            gap: 12px;
        }

        @media (max-width: 480px) {
            .bottom-nav {
                max-width: 100%;
            }
        }

        /* æ¡Œé¢ç«¯åº•éƒ¨å¯¼èˆªä¼˜åŒ– */
        @media (min-width: 768px) {
            .bottom-nav {
                position: static;
                transform: none;
                left: auto;
                bottom: auto;
                margin: 20px;
                border-radius: var(--radius);
                box-shadow: var(--shadow);
                max-width: none;
                width: auto;
                padding: 16px 24px;
                justify-content: center;
                gap: 20px;
            }
            
            .btn {
                min-width: 140px;
                padding: 14px 28px;
                font-size: 16px;
            }
            
            .step {
                padding-bottom: 0;
            }
            
            .result-container {
                padding-bottom: 20px;
            }
        }

        @media (min-width: 1024px) {
            .bottom-nav {
                margin: 32px;
                padding: 20px 32px;
                gap: 24px;
            }
            
            .btn {
                min-width: 160px;
                padding: 16px 32px;
                font-size: 17px;
                min-height: 56px;
            }
        }

        /* ===== ç»“æœå±•ç¤ºæ ·å¼ ===== */
        .result-container {
            padding: 20px 0 80px 0;
        }

        .score-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border-radius: var(--radius-lg);
            padding: 24px;
            margin: 16px;
            text-align: center;
        }

        .total-score {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .score-label {
            font-size: 16px;
            opacity: 0.9;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }

        .recommendation-list {
            list-style: none;
            padding: 0;
        }

        .recommendation-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--card);
            border-radius: var(--radius);
            margin-bottom: 12px;
            box-shadow: var(--shadow);
        }

        .recommendation-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success) 0%, #22c55e 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        /* ===== åŠ¨ç”»æ•ˆæœ ===== */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* ===== ç§»åŠ¨ç«¯å“åº”å¼è®¾è®¡ ===== */
        @media (max-width: 480px) {
            .card {
                margin: 12px 8px;
                padding: 16px;
            }
            
            .app-title {
                font-size: 18px;
            }
            
            .card-title {
                font-size: 16px;
            }
        }

        /* ===== å¹³æ¿å’Œæ¡Œé¢ä¼˜åŒ– ===== */
        @media (min-width: 768px) {
            .card {
                margin: 20px;
                padding: 24px;
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            
            .card:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
            }
            
            .app-title {
                font-size: 24px;
            }
            
            .card-title {
                font-size: 20px;
            }
            
            .form-group {
                margin-bottom: 24px;
            }
            
            .radio-group, .checkbox-group {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 16px;
            }
            
            .radio-item, .checkbox-item {
                padding: 16px;
            }
            
            .chart-container {
                height: 400px;
                margin: 30px 0;
            }
            
            /* é”®ç›˜å¿«æ·é”®æç¤º */
            .keyboard-hint {
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 12px;
                opacity: 0.7;
                z-index: 1001;
            }
            
            /* æ¡Œé¢ç«¯æ»šåŠ¨ä¼˜åŒ– */
            html {
                scroll-behavior: smooth;
            }
            
            /* æ¡Œé¢ç«¯ç„¦ç‚¹çŠ¶æ€ */
            .form-input:focus,
            .form-select:focus,
            .form-textarea:focus,
            .btn:focus {
                box-shadow: 0 0 0 3px rgba(255, 122, 69, 0.3);
            }
        }

        /* ===== å¤§æ¡Œé¢ä¼˜åŒ– ===== */
        @media (min-width: 1024px) {
            .card {
                margin: 24px;
                padding: 32px;
            }
            
            .app-title {
                font-size: 28px;
            }
            
            .card-title {
                font-size: 22px;
            }
            
            .form-group {
                margin-bottom: 28px;
            }
            
            .radio-group, .checkbox-group {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 20px;
            }
            
            .score-card {
                margin: 24px;
                padding: 40px;
            }
            
            .total-score {
                font-size: 64px;
            }
            
            .chart-container {
                height: 450px;
            }
        }

        /* ===== éšè—/æ˜¾ç¤ºæ­¥éª¤ ===== */
        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        /* ===== åŠ è½½åŠ¨ç”» ===== */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ===== æ‰“å°æ ·å¼ ===== */
        @media print {
            .bottom-nav,
            .keyboard-hint {
                display: none !important;
            }
            
            .app-container {
                box-shadow: none;
                margin: 0;
                max-width: 100%;
            }
            
            .card {
                break-inside: avoid;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <!-- æ¡Œé¢ç«¯é”®ç›˜æç¤º -->
    <div class="keyboard-hint" style="display: none;">
        å¿«æ·é”®: â† â†’ åˆ‡æ¢æ­¥éª¤ | Enter ä¸‹ä¸€æ­¥ | Esc è¿”å›
    </div>

    <div class="app-container">
        <!-- åº”ç”¨å¤´éƒ¨ -->
        <header class="app-header">
            <h1 class="app-title">ğŸƒâ€â™‚ï¸ ä½“è‚²äººæ‰è¯„ä¼°ç³»ç»Ÿ</h1>
            <p class="app-subtitle">ä¸“ä¸šÂ·æ™ºèƒ½Â·ä¸ªæ€§åŒ–Â·å“åº”å¼</p>
            <div class="step-indicator">
                <div class="step-dot active" data-step="1"></div>
                <div class="step-dot" data-step="2"></div>
                <div class="step-dot" data-step="3"></div>
                <div class="step-dot" data-step="4"></div>
                <div class="step-dot" data-step="5"></div>
            </div>
        </header>

        <!-- æ­¥éª¤1: åŸºæœ¬ä¿¡æ¯ -->
        <div class="step active" data-step="1">
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <h2 class="card-title">åŸºæœ¬ä¿¡æ¯</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label required">å„¿ç«¥å§“å</label>
                    <input type="text" class="form-input" placeholder="è¯·è¾“å…¥å„¿ç«¥å§“å" id="childName">
                </div>

                <div class="form-group">
                    <label class="form-label required">æ€§åˆ«</label>
                    <div class="radio-group">
                        <div class="radio-item" onclick="selectRadio(this, 'gender', 'ç”·')">
                            <input type="radio" name="gender" value="ç”·" class="radio-input">
                            <span>ğŸ‘¦ ç”·å­©</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'gender', 'å¥³')">
                            <input type="radio" name="gender" value="å¥³" class="radio-input">
                            <span>ğŸ‘§ å¥³å­©</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">å‡ºç”Ÿæ—¥æœŸ</label>
                    <input type="date" class="form-input" id="birthDate">
                </div>

                <div class="form-group">
                    <label class="form-label">èº«é«˜ (cm)</label>
                    <input type="number" class="form-input" placeholder="ä¾‹å¦‚: 120" id="height">
                </div>

                <div class="form-group">
                    <label class="form-label">ä½“é‡ (kg)</label>
                    <input type="number" class="form-input" placeholder="ä¾‹å¦‚: 25" id="weight">
                </div>
            </div>

            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h2 class="card-title">çˆ¶æ¯ä¿¡æ¯</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">çˆ¶äº²èº«é«˜ (cm)</label>
                    <input type="number" class="form-input" placeholder="ä¾‹å¦‚: 175" id="fatherHeight">
                </div>

                <div class="form-group">
                    <label class="form-label">æ¯äº²èº«é«˜ (cm)</label>
                    <input type="number" class="form-input" placeholder="ä¾‹å¦‚: 165" id="motherHeight">
                </div>

                <div class="form-group">
                    <label class="form-label">å®¶æ—è¿åŠ¨èƒŒæ™¯</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'family_sports')">
                            <input type="checkbox" value="professional" class="checkbox-input">
                            <span>ğŸ† å®¶æ—æœ‰ä¸“ä¸šè¿åŠ¨å‘˜</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'family_sports')">
                            <input type="checkbox" value="amateur" class="checkbox-input">
                            <span>ğŸƒâ€â™€ï¸ çˆ¶æ¯ç»å¸¸è¿åŠ¨</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'family_sports')">
                            <input type="checkbox" value="genes" class="checkbox-input">
                            <span>ğŸ§¬ æœ‰è¿åŠ¨å¤©èµ‹åŸºå› </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ­¥éª¤2: å…´è¶£æ¢ç´¢ -->
        <div class="step" data-step="2">
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h2 class="card-title">è¿åŠ¨å…´è¶£</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">æœ€å–œæ¬¢çš„è¿åŠ¨é¡¹ç›® (å¯å¤šé€‰)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'interests')">
                            <input type="checkbox" value="swimming" class="checkbox-input">
                            <span>ğŸŠâ€â™‚ï¸ æ¸¸æ³³</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'interests')">
                            <input type="checkbox" value="basketball" class="checkbox-input">
                            <span>ğŸ€ ç¯®çƒ</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'interests')">
                            <input type="checkbox" value="soccer" class="checkbox-input">
                            <span>âš½ è¶³çƒ</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'interests')">
                            <input type="checkbox" value="tennis" class="checkbox-input">
                            <span>ğŸ¾ ç½‘çƒ</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'interests')">
                            <input type="checkbox" value="gymnastics" class="checkbox-input">
                            <span>ğŸ¤¸â€â™€ï¸ ä½“æ“</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'interests')">
                            <input type="checkbox" value="track" class="checkbox-input">
                            <span>ğŸƒâ€â™‚ï¸ ç”°å¾„</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">æ¯å‘¨è¿åŠ¨é¢‘ç‡</label>
                    <div class="radio-group">
                        <div class="radio-item" onclick="selectRadio(this, 'frequency', '1-2')">
                            <input type="radio" name="frequency" value="1-2" class="radio-input">
                            <span>ğŸ“… æ¯å‘¨1-2æ¬¡</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'frequency', '3-4')">
                            <input type="radio" name="frequency" value="3-4" class="radio-input">
                            <span>ğŸ“… æ¯å‘¨3-4æ¬¡</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'frequency', '5+')">
                            <input type="radio" name="frequency" value="5+" class="radio-input">
                            <span>ğŸ“… æ¯å‘¨5æ¬¡ä»¥ä¸Š</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ­¥éª¤3: èº«ä½“è¯„ä¼° -->
        <div class="step" data-step="3">
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h2 class="card-title">èº«ä½“çŠ¶å†µ</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">èº«ä½“ç´ è´¨è¯„ä¼°</label>
                    <div class="form-group">
                        <label class="form-label">é€Ÿåº¦è¡¨ç°</label>
                        <div class="radio-group">
                            <div class="radio-item" onclick="selectRadio(this, 'speed', 'excellent')">
                                <input type="radio" name="speed" value="excellent" class="radio-input">
                                <span>â­â­â­â­â­ ä¼˜ç§€</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'speed', 'good')">
                                <input type="radio" name="speed" value="good" class="radio-input">
                                <span>â­â­â­â­ è‰¯å¥½</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'speed', 'average')">
                                <input type="radio" name="speed" value="average" class="radio-input">
                                <span>â­â­â­ ä¸€èˆ¬</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'speed', 'poor')">
                                <input type="radio" name="speed" value="poor" class="radio-input">
                                <span>â­â­ å¾…æ”¹å–„</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">åŠ›é‡è¡¨ç°</label>
                        <div class="radio-group">
                            <div class="radio-item" onclick="selectRadio(this, 'strength', 'excellent')">
                                <input type="radio" name="strength" value="excellent" class="radio-input">
                                <span>ğŸ’ª ä¼˜ç§€</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'strength', 'good')">
                                <input type="radio" name="strength" value="good" class="radio-input">
                                <span>ğŸ’ª è‰¯å¥½</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'strength', 'average')">
                                <input type="radio" name="strength" value="average" class="radio-input">
                                <span>ğŸ’ª ä¸€èˆ¬</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'strength', 'poor')">
                                <input type="radio" name="strength" value="poor" class="radio-input">
                                <span>ğŸ’ª å¾…æ”¹å–„</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">åè°ƒæ€§è¡¨ç°</label>
                        <div class="radio-group">
                            <div class="radio-item" onclick="selectRadio(this, 'coordination', 'excellent')">
                                <input type="radio" name="coordination" value="excellent" class="radio-input">
                                <span>ğŸ¤¹â€â™‚ï¸ ä¼˜ç§€</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'coordination', 'good')">
                                <input type="radio" name="coordination" value="good" class="radio-input">
                                <span>ğŸ¤¹â€â™‚ï¸ è‰¯å¥½</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'coordination', 'average')">
                                <input type="radio" name="coordination" value="average" class="radio-input">
                                <span>ğŸ¤¹â€â™‚ï¸ ä¸€èˆ¬</span>
                            </div>
                            <div class="radio-item" onclick="selectRadio(this, 'coordination', 'poor')">
                                <input type="radio" name="coordination" value="poor" class="radio-input">
                                <span>ğŸ¤¹â€â™‚ï¸ å¾…æ”¹å–„</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ­¥éª¤4: è¿åŠ¨è¡¨ç° -->
        <div class="step" data-step="4">
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-medal"></i>
                    </div>
                    <h2 class="card-title">è¿åŠ¨è¡¨ç°</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">å‚åŠ è¿‡çš„è¿åŠ¨è®­ç»ƒ</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'training')">
                            <input type="checkbox" value="swimming_course" class="checkbox-input">
                            <span>ğŸŠâ€â™‚ï¸ æ¸¸æ³³è¯¾ç¨‹</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'training')">
                            <input type="checkbox" value="ball_sports" class="checkbox-input">
                            <span>âš½ çƒç±»è¿åŠ¨</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'training')">
                            <input type="checkbox" value="martial_arts" class="checkbox-input">
                            <span>ğŸ¥‹ æ­¦æœ¯/è·†æ‹³é“</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'training')">
                            <input type="checkbox" value="dance" class="checkbox-input">
                            <span>ğŸ’ƒ èˆè¹ˆ</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this, 'training')">
                            <input type="checkbox" value="none" class="checkbox-input">
                            <span>âŒ æš‚æ— ç³»ç»Ÿè®­ç»ƒ</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">è¿åŠ¨å­¦ä¹ èƒ½åŠ›</label>
                    <div class="radio-group">
                        <div class="radio-item" onclick="selectRadio(this, 'learning_ability', 'fast')">
                            <input type="radio" name="learning_ability" value="fast" class="radio-input">
                            <span>ğŸš€ å­¦ä¹ å¾ˆå¿«ï¼Œä¸€æ•™å°±ä¼š</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'learning_ability', 'normal')">
                            <input type="radio" name="learning_ability" value="normal" class="radio-input">
                            <span>ğŸ“š å­¦ä¹ æ­£å¸¸ï¼Œéœ€è¦ç»ƒä¹ </span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'learning_ability', 'slow')">
                            <input type="radio" name="learning_ability" value="slow" class="radio-input">
                            <span>ğŸ¢ å­¦ä¹ è¾ƒæ…¢ï¼Œéœ€è¦è€å¿ƒ</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">é¢å¯¹æŒ‘æˆ˜çš„æ€åº¦</label>
                    <div class="radio-group">
                        <div class="radio-item" onclick="selectRadio(this, 'challenge_attitude', 'positive')">
                            <input type="radio" name="challenge_attitude" value="positive" class="radio-input">
                            <span>ğŸ’ª ç§¯æé¢å¯¹ï¼Œè¶ŠæŒ«è¶Šå‹‡</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'challenge_attitude', 'need_encourage')">
                            <input type="radio" name="challenge_attitude" value="need_encourage" class="radio-input">
                            <span>ğŸ¤— éœ€è¦é¼“åŠ±æ‰èƒ½åšæŒ</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'challenge_attitude', 'give_up_easily')">
                            <input type="radio" name="challenge_attitude" value="give_up_easily" class="radio-input">
                            <span>ğŸ˜” å®¹æ˜“æ”¾å¼ƒ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ­¥éª¤5: æœŸæœ›ç›®æ ‡ -->
        <div class="step" data-step="5">
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-target"></i>
                    </div>
                    <h2 class="card-title">å‘å±•æœŸæœ›</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">è¿åŠ¨å‘å±•ç›®æ ‡</label>
                    <div class="radio-group">
                        <div class="radio-item" onclick="selectRadio(this, 'goal', 'health')">
                            <input type="radio" name="goal" value="health" class="radio-input">
                            <span>ğŸŒŸ å¥åº·æˆé•¿ï¼Œå¢å¼ºä½“è´¨</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'goal', 'hobby')">
                            <input type="radio" name="goal" value="hobby" class="radio-input">
                            <span>ğŸ¯ åŸ¹å…»è¿åŠ¨çˆ±å¥½</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'goal', 'professional')">
                            <input type="radio" name="goal" value="professional" class="radio-input">
                            <span>ğŸ† ä¸“ä¸šè¿åŠ¨å‘å±•</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'goal', 'competition')">
                            <input type="radio" name="goal" value="competition" class="radio-input">
                            <span>ğŸ¥‡ ç«æŠ€ä½“è‚²é“è·¯</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">å¯æŠ•å…¥çš„æ—¶é—´</label>
                    <div class="radio-group">
                        <div class="radio-item" onclick="selectRadio(this, 'time_commitment', 'low')">
                            <input type="radio" name="time_commitment" value="low" class="radio-input">
                            <span>â° æ¯å‘¨1-2å°æ—¶</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'time_commitment', 'medium')">
                            <input type="radio" name="time_commitment" value="medium" class="radio-input">
                            <span>â° æ¯å‘¨3-5å°æ—¶</span>
                        </div>
                        <div class="radio-item" onclick="selectRadio(this, 'time_commitment', 'high')">
                            <input type="radio" name="time_commitment" value="high" class="radio-input">
                            <span>â° æ¯å‘¨6å°æ—¶ä»¥ä¸Š</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">è”ç³»æ–¹å¼</label>
                    <input type="tel" class="form-input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç " id="phoneNumber">
                </div>
            </div>
        </div>

        <!-- ç»“æœé¡µé¢ -->
        <div class="step result-container" data-step="result">
            <div class="score-card fade-in pulse">
                <div class="total-score" id="totalScore">85</div>
                <div class="score-label">ç»¼åˆè¯„ä¼°åˆ†æ•°</div>
            </div>

            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-chart-radar"></i>
                    </div>
                    <h2 class="card-title">èƒ½åŠ›é›·è¾¾å›¾</h2>
                </div>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>

            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h2 class="card-title">æ¨èè¿åŠ¨é¡¹ç›®</h2>
                </div>
                <ul class="recommendation-list" id="recommendationList">
                    <!-- åŠ¨æ€ç”Ÿæˆæ¨èå†…å®¹ -->
                </ul>
            </div>

            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h2 class="card-title">ä¸ªæ€§åŒ–å»ºè®®</h2>
                </div>
                <div id="personalizedAdvice">
                    <!-- åŠ¨æ€ç”Ÿæˆå»ºè®®å†…å®¹ -->
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨å¯¼èˆª -->
        <div class="bottom-nav">
            <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()" style="display: none;">
                <i class="fas fa-arrow-left"></i> ä¸Šä¸€æ­¥
            </button>
            <button class="btn btn-primary btn-block" id="nextBtn" onclick="nextStep()">
                ä¸‹ä¸€æ­¥ <i class="fas fa-arrow-right"></i>
            </button>
            <button class="btn btn-success" id="generateBtn" onclick="generateReport()" style="display: none;">
                <i class="fas fa-download"></i> ç”ŸæˆæŠ¥å‘Š
            </button>
        </div>
    </div>

    <script>
        // ===== å…¨å±€å˜é‡ =====
        let currentStep = 1;
        const totalSteps = 5;
        const formData = {};
        let isDesktop = false;

        // ===== è®¾å¤‡æ£€æµ‹ =====
        function detectDevice() {
            isDesktop = window.innerWidth >= 768;
            
            // æ˜¾ç¤ºæ¡Œé¢ç«¯å¿«æ·é”®æç¤º
            const keyboardHint = document.querySelector('.keyboard-hint');
            if (keyboardHint) {
                keyboardHint.style.display = isDesktop ? 'block' : 'none';
            }
        }

        // ===== é”®ç›˜å¿«æ·é”®æ”¯æŒ =====
        function setupKeyboardShortcuts() {
            if (!isDesktop) return;
            
            document.addEventListener('keydown', function(e) {
                switch(e.key) {
                    case 'ArrowRight':
                    case 'Enter':
                        e.preventDefault();
                        nextStep();
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        previousStep();
                        break;
                    case 'Escape':
                        e.preventDefault();
                        if (currentStep > 1) previousStep();
                        break;
                }
            });
        }

        // ===== æ­¥éª¤ç®¡ç† =====
        function nextStep() {
            if (currentStep < totalSteps) {
                saveCurrentStepData();
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
                currentStep++;
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
                updateStepIndicator();
                updateButtonState();
                window.scrollTo(0, 0);
            } else {
                showResults();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
                currentStep--;
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
                updateStepIndicator();
                updateButtonState();
                window.scrollTo(0, 0);
            }
        }

        function updateStepIndicator() {
            document.querySelectorAll('.step-dot').forEach((dot, index) => {
                const stepNumber = index + 1;
                dot.classList.remove('active', 'completed');
                
                if (stepNumber === currentStep) {
                    dot.classList.add('active');
                } else if (stepNumber < currentStep) {
                    dot.classList.add('completed');
                }
            });
        }

        function updateButtonState() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = currentStep > 1 ? 'inline-flex' : 'none';
            
            if (currentStep === totalSteps) {
                nextBtn.textContent = 'ç”Ÿæˆè¯„ä¼°æŠ¥å‘Š';
                nextBtn.innerHTML = '<i class="fas fa-chart-bar"></i> ç”Ÿæˆè¯„ä¼°æŠ¥å‘Š';
            } else {
                nextBtn.innerHTML = 'ä¸‹ä¸€æ­¥ <i class="fas fa-arrow-right"></i>';
            }
        }

        // ===== è¡¨å•äº¤äº’ =====
        function selectRadio(element, name, value) {
            document.querySelectorAll(`input[name="${name}"]`).forEach(input => {
                input.closest('.radio-item').classList.remove('selected');
            });
            
            element.classList.add('selected');
            element.querySelector('input').checked = true;
            formData[name] = value;
        }

        function toggleCheckbox(element, groupName) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            const isChecked = !checkbox.checked;
            
            checkbox.checked = isChecked;
            
            if (isChecked) {
                element.classList.add('selected');
            } else {
                element.classList.remove('selected');
            }
            
            if (!formData[groupName]) {
                formData[groupName] = [];
            }
            
            const value = checkbox.value;
            if (isChecked && !formData[groupName].includes(value)) {
                formData[groupName].push(value);
            } else if (!isChecked) {
                formData[groupName] = formData[groupName].filter(v => v !== value);
            }
        }

        function saveCurrentStepData() {
            const currentStepElement = document.querySelector(`.step[data-step="${currentStep}"]`);
            const inputs = currentStepElement.querySelectorAll('input, select, textarea');
            
            inputs.forEach(input => {
                if (input.type === 'radio' || input.type === 'checkbox') {
                    if (input.checked && input.name) {
                        if (input.type === 'checkbox') {
                            if (!formData[input.name]) formData[input.name] = [];
                            if (!formData[input.name].includes(input.value)) {
                                formData[input.name].push(input.value);
                            }
                        } else {
                            formData[input.name] = input.value;
                        }
                    }
                } else if (input.id && input.value) {
                    formData[input.id] = input.value;
                }
            });
        }

        // ===== ç»“æœç”Ÿæˆ =====
        function showResults() {
            saveCurrentStepData();
            document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
            document.querySelector('.step[data-step="result"]').classList.add('active');
            
            document.getElementById('prevBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('generateBtn').style.display = 'inline-flex';
            
            calculateAndShowResults();
        }

        function calculateAndShowResults() {
            const score = calculateTotalScore();
            document.getElementById('totalScore').textContent = score;
            createRadarChart();
            generateRecommendations();
            generatePersonalizedAdvice();
        }

        function calculateTotalScore() {
            let score = 60;
            
            if (formData.speed === 'excellent') score += 10;
            else if (formData.speed === 'good') score += 7;
            else if (formData.speed === 'average') score += 4;
            
            if (formData.strength === 'excellent') score += 10;
            else if (formData.strength === 'good') score += 7;
            else if (formData.strength === 'average') score += 4;
            
            if (formData.coordination === 'excellent') score += 10;
            else if (formData.coordination === 'good') score += 7;
            else if (formData.coordination === 'average') score += 4;
            
            if (formData.learning_ability === 'fast') score += 8;
            else if (formData.learning_ability === 'normal') score += 5;
            
            if (formData.challenge_attitude === 'positive') score += 7;
            else if (formData.challenge_attitude === 'need_encourage') score += 4;
            
            if (formData.interests && formData.interests.length > 0) {
                score += formData.interests.length * 2;
            }
            
            return Math.min(score, 100);
        }

        function createRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            const speedScore = getScoreFromRating(formData.speed);
            const strengthScore = getScoreFromRating(formData.strength);
            const coordinationScore = getScoreFromRating(formData.coordination);
            const learningScore = formData.learning_ability === 'fast' ? 90 : 
                                formData.learning_ability === 'normal' ? 70 : 50;
            const attitudeScore = formData.challenge_attitude === 'positive' ? 90 :
                                formData.challenge_attitude === 'need_encourage' ? 70 : 50;
            const interestScore = formData.interests ? Math.min(formData.interests.length * 20, 100) : 60;
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['é€Ÿåº¦', 'åŠ›é‡', 'åè°ƒæ€§', 'å­¦ä¹ èƒ½åŠ›', 'æŒ‘æˆ˜æ€åº¦', 'è¿åŠ¨å…´è¶£'],
                    datasets: [{
                        label: 'èƒ½åŠ›è¯„ä¼°',
                        data: [speedScore, strengthScore, coordinationScore, learningScore, attitudeScore, interestScore],
                        borderColor: '#ff7a45',
                        backgroundColor: 'rgba(255, 122, 69, 0.2)',
                        borderWidth: 3,
                        pointBackgroundColor: '#ff7a45',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20,
                                color: '#64748b'
                            },
                            grid: {
                                color: '#e2e8f0'
                            },
                            pointLabels: {
                                font: {
                                    size: isDesktop ? 16 : 14,
                                    family: '-apple-system, BlinkMacSystemFont, PingFang SC'
                                },
                                color: '#1e293b'
                            }
                        }
                    }
                }
            });
        }

        function getScoreFromRating(rating) {
            switch (rating) {
                case 'excellent': return 95;
                case 'good': return 80;
                case 'average': return 65;
                case 'poor': return 45;
                default: return 60;
            }
        }

        function generateRecommendations() {
            const recommendationList = document.getElementById('recommendationList');
            const recommendations = getRecommendations();
            
            recommendationList.innerHTML = recommendations.map(rec => `
                <li class="recommendation-item">
                    <div class="recommendation-icon">
                        <i class="${rec.icon}"></i>
                    </div>
                    <div>
                        <strong>${rec.sport}</strong>
                        <p style="margin: 4px 0 0 0; color: var(--text-muted); font-size: 14px;">
                            ${rec.reason}
                        </p>
                    </div>
                </li>
            `).join('');
        }

        function getRecommendations() {
            const recommendations = [];
            
            if (formData.interests && formData.interests.includes('swimming')) {
                recommendations.push({
                    sport: 'æ¸¸æ³³ä¸“é¡¹è®­ç»ƒ',
                    reason: 'æ‚¨çš„å­©å­å¯¹æ¸¸æ³³å¾ˆæ„Ÿå…´è¶£ï¼Œé€‚åˆæ·±å…¥å‘å±•',
                    icon: 'fas fa-swimmer'
                });
            }
            
            if (formData.interests && formData.interests.includes('basketball')) {
                recommendations.push({
                    sport: 'ç¯®çƒåŸºç¡€è®­ç»ƒ',
                    reason: 'çƒç±»è¿åŠ¨æœ‰åŠ©äºæé«˜åè°ƒæ€§å’Œå›¢é˜Ÿç²¾ç¥',
                    icon: 'fas fa-basketball-ball'
                });
            }
            
            if (formData.speed === 'excellent') {
                recommendations.push({
                    sport: 'ç”°å¾„çŸ­è·‘',
                    reason: 'é€Ÿåº¦è¡¨ç°ä¼˜ç§€ï¼Œé€‚åˆå‘å±•çŸ­è·‘é¡¹ç›®',
                    icon: 'fas fa-running'
                });
            }
            
            if (formData.coordination === 'excellent') {
                recommendations.push({
                    sport: 'ä½“æ“/è‰ºæœ¯ä½“æ“',
                    reason: 'åè°ƒæ€§ä¼˜ç§€ï¼Œé€‚åˆæŠ€å·§ç±»è¿åŠ¨',
                    icon: 'fas fa-child'
                });
            }
            
            if (recommendations.length === 0) {
                recommendations.push(
                    {
                        sport: 'ç»¼åˆä½“èƒ½è®­ç»ƒ',
                        reason: 'å»ºç«‹è‰¯å¥½çš„è¿åŠ¨åŸºç¡€ï¼Œå…¨é¢å‘å±•èº«ä½“ç´ è´¨',
                        icon: 'fas fa-dumbbell'
                    },
                    {
                        sport: 'è¶£å‘³è¿åŠ¨æ¸¸æˆ',
                        reason: 'åŸ¹å…»è¿åŠ¨å…´è¶£ï¼Œåœ¨æ¸¸æˆä¸­æé«˜è¿åŠ¨èƒ½åŠ›',
                        icon: 'fas fa-gamepad'
                    }
                );
            }
            
            return recommendations.slice(0, 3);
        }

        function generatePersonalizedAdvice() {
            const adviceContainer = document.getElementById('personalizedAdvice');
            const advice = getPersonalizedAdvice();
            
            adviceContainer.innerHTML = `
                <div style="background: var(--secondary); padding: 16px; border-radius: var(--radius); margin-bottom: 16px;">
                    <h4 style="margin-bottom: 8px; color: var(--text);">ğŸ¯ å‘å±•å»ºè®®</h4>
                    <p style="margin: 0; color: var(--text-muted); line-height: 1.6;">${advice.development}</p>
                </div>
                <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: var(--radius); margin-bottom: 16px;">
                    <h4 style="margin-bottom: 8px; color: var(--success);">ğŸ’¡ è®­ç»ƒé‡ç‚¹</h4>
                    <p style="margin: 0; color: var(--text-muted); line-height: 1.6;">${advice.training}</p>
                </div>
                <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: var(--radius);">
                    <h4 style="margin-bottom: 8px; color: var(--warning);">âš ï¸ æ³¨æ„äº‹é¡¹</h4>
                    <p style="margin: 0; color: var(--text-muted); line-height: 1.6;">${advice.caution}</p>
                </div>
            `;
        }

        function getPersonalizedAdvice() {
            let development = 'å»ºè®®é€‰æ‹©1-2ä¸ªä¸»è¦è¿åŠ¨é¡¹ç›®è¿›è¡Œç³»ç»Ÿè®­ç»ƒï¼ŒåŒæ—¶ä¿æŒå¤šæ ·åŒ–çš„è¿åŠ¨ä½“éªŒã€‚';
            let training = 'é‡ç‚¹åŸ¹å…»åŸºç¡€è¿åŠ¨æŠ€èƒ½ï¼Œå¦‚è·‘ã€è·³ã€æŠ•ã€æ”€çˆ¬ç­‰ï¼Œä¸ºä¸“é¡¹è¿åŠ¨æ‰“å¥½åŸºç¡€ã€‚';
            let caution = 'æ³¨æ„è¿åŠ¨å¼ºåº¦é€‚ä¸­ï¼Œé¿å…è¿‡æ—©ä¸“ä¸šåŒ–è®­ç»ƒï¼Œä¿æŠ¤å­©å­çš„è¿åŠ¨å…´è¶£å’Œèº«ä½“å¥åº·ã€‚';
            
            if (formData.goal === 'professional') {
                development = 'å­©å­æœ‰ä¸“ä¸šå‘å±•æ„æ„¿ï¼Œå»ºè®®å¯»æ‰¾ä¸“ä¸šæ•™ç»ƒï¼Œåˆ¶å®šç³»ç»Ÿæ€§è®­ç»ƒè®¡åˆ’ã€‚';
                training = 'åŠ å¼ºä¸“é¡¹æŠ€èƒ½è®­ç»ƒï¼ŒåŒæ—¶æ³¨é‡ä½“èƒ½å’Œå¿ƒç†ç´ è´¨çš„å…¨é¢æå‡ã€‚';
            } else if (formData.goal === 'health') {
                development = 'ä»¥å¥åº·ä¸ºä¸»è¦ç›®æ ‡ï¼Œå»ºè®®é€‰æ‹©å­©å­å–œæ¬¢çš„è¿åŠ¨é¡¹ç›®ï¼Œé‡åœ¨åšæŒå’Œäº«å—ã€‚';
                training = 'æ³¨é‡è¶£å‘³æ€§å’Œå¤šæ ·æ€§ï¼ŒåŸ¹å…»ç»ˆèº«è¿åŠ¨ä¹ æƒ¯æ¯”æŠ€æœ¯æ°´å¹³æ›´é‡è¦ã€‚';
            }
            
            if (formData.challenge_attitude === 'give_up_easily') {
                caution = 'å­©å­å®¹æ˜“æ”¾å¼ƒï¼Œå»ºè®®é€‰æ‹©è¶£å‘³æ€§å¼ºçš„é¡¹ç›®ï¼Œå¤šç»™äºˆé¼“åŠ±å’Œæ”¯æŒï¼Œå¾ªåºæ¸è¿›æå‡éš¾åº¦ã€‚';
            }
            
            return { development, training, caution };
        }

        function generateReport() {
            const loading = document.querySelector('.loading') || createLoadingElement();
            loading.style.display = 'flex';
            
            setTimeout(() => {
                loading.style.display = 'none';
                alert('ğŸ‰ è¯„ä¼°æŠ¥å‘Šå·²ç”Ÿæˆå®Œæˆï¼\n\næŠ¥å‘ŠåŒ…å«ï¼š\n- è¯¦ç»†çš„èƒ½åŠ›åˆ†æ\n- ä¸ªæ€§åŒ–è®­ç»ƒå»ºè®®\n- è¿åŠ¨é¡¹ç›®æ¨è\n- å‘å±•è·¯å¾„è§„åˆ’\n\næ„Ÿè°¢æ‚¨ä½¿ç”¨ä½“è‚²äººæ‰è¯„ä¼°ç³»ç»Ÿï¼');
            }, 2000);
        }

        function createLoadingElement() {
            const loading = document.createElement('div');
            loading.className = 'loading';
            loading.innerHTML = '<div class="loading-spinner"></div>';
            document.body.appendChild(loading);
            return loading;
        }

        // ===== åˆå§‹åŒ– =====
        document.addEventListener('DOMContentLoaded', function() {
            detectDevice();
            updateButtonState();
            setupKeyboardShortcuts();
            
            // ç›‘å¬çª—å£å¤§å°å˜åŒ–
            window.addEventListener('resize', detectDevice);
            
            // æ·»åŠ è¾“å…¥äº‹ä»¶ç›‘å¬å™¨
            document.querySelectorAll('input, select, textarea').forEach(input => {
                input.addEventListener('change', function() {
                    if (this.id) {
                        formData[this.id] = this.value;
                    }
                });
            });
            
            // æ·»åŠ ä¸€äº›æ¼”ç¤ºæ•°æ®
            setTimeout(() => {
                if (document.getElementById('childName').value === '') {
                    document.getElementById('childName').value = 'å°æ˜';
                    document.getElementById('birthDate').value = '2015-05-15';
                    document.getElementById('height').value = '125';
                    document.getElementById('weight').value = '28';
                    document.getElementById('fatherHeight').value = '175';
                    document.getElementById('motherHeight').value = '160';
                }
            }, 1000);
        });
    </script>
</body>
</html>